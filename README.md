# VU AWS S3 æ•´åˆå…ƒä»¶

é€™æ˜¯ä¸€å€‹è‡ªè¨‚çš„ Home Assistant æ•´åˆå…ƒä»¶ï¼ŒåŸºæ–¼å®˜æ–¹çš„ [AWS S3 å…ƒä»¶](https://github.com/home-assistant/core/tree/dev/homeassistant/components/aws_s3)é€²è¡Œä¿®æ”¹ï¼Œå¢åŠ äº†å°å„²å­˜æ¡¶å…§ç‰¹å®šè³‡æ–™å¤¾ï¼ˆpathï¼‰çš„æ”¯æ´ï¼Œä½¿æ‚¨èƒ½æ›´æœ‰å½ˆæ€§åœ°çµ„ç¹”å’Œç®¡ç† S3 ä¸­çš„æª”æ¡ˆã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ” å¾ Home Assistant å®‰å…¨åœ°é€£æ¥åˆ° AWS S3 æˆ–ä»»ä½•ç›¸å®¹çš„ S3 æœå‹™
- ğŸ“ æ”¯æ´æŒ‡å®šå„²å­˜æ¡¶å…§çš„ç‰¹å®šè³‡æ–™å¤¾/è·¯å¾‘åšç‚ºåŸºç¤ç›®éŒ„
- ğŸ’¾ æ”¯æ´ Home Assistant å‚™ä»½åŠŸèƒ½ - å°‡æ‚¨çš„å‚™ä»½ç›´æ¥å„²å­˜åˆ° S3
- ğŸ“¤ æä¾›æœå‹™ API è®“æ‚¨å¯ä»¥ä¸Šå‚³ã€ä¸‹è¼‰ã€åˆªé™¤å’Œåˆ—å‡º S3 æª”æ¡ˆ

## èˆ‡å®˜æ–¹ AWS S3 æ•´åˆå…ƒä»¶çš„å·®ç•°

æœ¬æ•´åˆå…ƒä»¶åœ¨å®˜æ–¹ AWS S3 æ•´åˆå…ƒä»¶çš„åŸºç¤ä¸Šå¢åŠ äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

- **è³‡æ–™å¤¾æ”¯æ´**ï¼šå¯ä»¥æŒ‡å®šå„²å­˜æ¡¶å…§çš„å­ç›®éŒ„è·¯å¾‘ä½œç‚ºåŸºç¤è·¯å¾‘
- **ç›¸å°è·¯å¾‘**ï¼šæ‰€æœ‰æª”æ¡ˆæ“ä½œéƒ½å¯ä»¥ä½¿ç”¨ç›¸å°æ–¼é…ç½®çš„åŸºç¤è·¯å¾‘çš„ç›¸å°è·¯å¾‘
- **å„ªåŒ–çš„æª”æ¡ˆç®¡ç†**ï¼šæ›´ä¾¿æ·åœ°åœ¨æŒ‡å®šè³‡æ–™å¤¾å…§çµ„ç¹”å’Œç®¡ç†æª”æ¡ˆ

## å®‰è£æ–¹å¼

### ä½¿ç”¨ HACS (æ¨è–¦)

1. ç¢ºä¿æ‚¨å·²å®‰è£ [HACS (Home Assistant Community Store)](https://hacs.xyz/)
2. é»æ“Š HACS > æ•´åˆå…ƒä»¶ > å³ä¸Šè§’ä¸‰é»åœ–ç¤º > è‡ªè¨‚å­˜å„²åº«
3. æ–°å¢æ­¤å­˜å„²åº« URL ä¸¦é¸æ“‡é¡åˆ¥ç‚ºã€Œæ•´åˆå…ƒä»¶ã€
4. é»æ“Šã€Œ+ æ¢ç´¢ä¸¦ä¸‹è¼‰å­˜å„²åº«ã€ä¸¦æœå°‹ "VU AWS S3"
5. é»æ“Šä¸‹è¼‰ï¼Œå®Œæˆå¾Œé‡æ–°å•Ÿå‹• Home Assistant

### æ‰‹å‹•å®‰è£

1. ä¸‹è¼‰æ­¤å­˜å„²åº«çš„ ZIP æª”æ¡ˆ
2. è§£å£“ç¸®ä¸¦å°‡ `custom_components/vu_aws_s3` ç›®éŒ„è¤‡è£½åˆ°æ‚¨çš„ Home Assistant çš„ `custom_components` ç›®éŒ„ä¸­
3. é‡æ–°å•Ÿå‹• Home Assistant

## è¨­å®šæ–¹å¼

### å‰ç½®æº–å‚™

1. åœ¨ AWS ä¸­å‰µå»ºä¸€å€‹ IAM ä½¿ç”¨è€…ï¼Œä¸¦è‡³å°‘æˆäºˆä»¥ä¸‹æ¬Šé™:

   ```json
   {
     "Version": "2012-10-17",
     "Statement": [
       {
         "Effect": "Allow",
         "Action": [
           "s3:ListBucket",
           "s3:GetObject",
           "s3:PutObject",
           "s3:DeleteObject"
         ],
         "Resource": [
           "arn:aws:s3:::your-bucket-name",
           "arn:aws:s3:::your-bucket-name/*"
         ]
       }
     ]
   }
   ```

2. è¨˜ä¸‹ IAM ä½¿ç”¨è€…çš„å­˜å–é‡‘é‘° ID å’Œç§˜å¯†å­˜å–é‡‘é‘°

### åœ¨ Home Assistant ä¸­è¨­å®š

1. åœ¨ Home Assistant ä¸­ï¼Œå‰å¾€ **è¨­å®š** > **è£ç½®èˆ‡æœå‹™** > **æ•´åˆå…ƒä»¶** > **æ–°å¢æ•´åˆå…ƒä»¶**
2. æœå°‹ "VU AWS S3" ä¸¦é¸æ“‡å®ƒ
3. è¼¸å…¥ä»¥ä¸‹è³‡è¨Š:
   - **Access Key ID**: æ‚¨çš„ AWS å­˜å–é‡‘é‘° ID
   - **Secret Access Key**: æ‚¨çš„ AWS ç§˜å¯†å­˜å–é‡‘é‘°
   - **Bucket**: S3 å„²å­˜æ¡¶åç¨±
   - **Endpoint URL**: S3 ç«¯é» URL (é è¨­ç‚º `https://s3.eu-central-1.amazonaws.com/`)
   - **Folder Path (optional)**: å„²å­˜æ¡¶å…§çš„è³‡æ–™å¤¾è·¯å¾‘ (å¯é¸ï¼Œä¸éœ€è¦é–‹é ­çš„ `/`)

## ä½¿ç”¨æ–¹å¼

### å‚™ä»½åŠŸèƒ½

ä¸€æ—¦è¨­å®šå®Œæˆï¼ŒVU AWS S3 æ•´åˆå…ƒä»¶æœƒè‡ªå‹•é¡¯ç¤ºåœ¨ Home Assistant çš„å‚™ä»½é¸é …ä¸­ã€‚

1. å‰å¾€ **è¨­å®š** > **ç³»çµ±** > **å‚™ä»½**
2. é»é¸ **å»ºç«‹å‚™ä»½**
3. åœ¨ **å„²å­˜ä½ç½®** ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡ **VU AWS S3**
4. å®Œæˆå…¶ä»–å‚™ä»½è¨­å®šï¼Œä¸¦é»æ“Š **å»ºç«‹**

## è‡´è¬

æœ¬å°ˆæ¡ˆåŸºæ–¼ [Home Assistant AWS S3 æ•´åˆå…ƒä»¶](https://github.com/home-assistant/core/tree/dev/homeassistant/components/aws_s3) é€²è¡Œä¿®æ”¹å’Œæ“´å±•ã€‚æ„Ÿè¬åŸå§‹é–‹ç™¼è€…çš„è²¢ç»ã€‚
